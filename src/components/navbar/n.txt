import React from "react";
import { useRef } from "react";
import { useMediaPredicate } from "react-media-hook";

function Search({ notiCont, profCont }) {
  const input = useRef(true);
  const inputCont = useRef(true);
  const sClose = useRef();
  const width = useMediaPredicate("(max-width: 600px)");

  return (
    <div
      className={`navbar-search ${inputCont ? "width" : ""}`}
      ref={inputCont}
    >
      <input type="text" placeholder="Search" className="hide" ref={input} />
      <i
        className=" fa-solid fa-magnifying-glass search-open"
        onClick={() => {
          input.current.classList.remove("hide");
          inputCont.current.classList.remove("width");
          sClose.current.classList.remove("hide");
          // console.log(window.innerWidth);
          // const input = document.querySelector(".navbar-search input");
          // const inputCont = document.querySelector(".navbar-search");
          // const sClose = document.querySelector(".search-close");
          // input.classList.remove("hide");
          // inputCont.classList.remove("width");
          // sClose.classList.remove("hide");
          // console.log(window.innerWidth);
          if (width) {
            // console.log( document
            // .querySelector(".navbar-notification"))
            //   inputCont.style.flexGrow = "1"
            // document
            //   .querySelector(".navbar-notification")
            //   .classList.add("hide");
            // document.querySelector(".navbar-profile").classList.add("hide");
            notiCont.current.classList.add("hide");
            profCont.current.classList.add("hide");
          } else {
            notiCont.current.classList.remove("hide");
            profCont.current.classList.remove("hide");
          }
        }}
      ></i>
      <i
        className="fa-solid fa-xmark search-close hide"
        onClick={() => {
          // const input = document.querySelector(".navbar-search input");
          // const inputCont = document.querySelector(".navbar-search");
          // const sClose = document.querySelector(".search-close");
          // input.classList.add("hide");
          // inputCont.classList.add("width");
          // sClose.classList.add("hide");
          input.current.classList.add("hide");
          inputCont.current.classList.add("width");
          sClose.current.classList.add("hide");
          if (width) {
            // document
            //   .querySelector(".navbar-notification")
            //   .classList.remove("hide");
            // document.querySelector(".navbar-profile").classList.remove("hide");
            notiCont.current.classList.remove("hide");
            profCont.current.classList.remove("hide");
          }
        }}
        ref={sClose}
      ></i>
    </div>
  );
}

export default Search;
